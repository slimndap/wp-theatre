=== Theater for WordPress ===
Contributors: slimndap
Tags: theatre, stage, venue, events, shows, concerts, tickets, ticketing, sports, performances, calendar, festival, workshops, theater, cinema
Requires at least: 4.7
Tested up to: 6.6
Requires PHP: 5.4
Stable tag: trunk
License: GPLv2
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Donate link: https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=CZERCBG5SUGQW

Manage and publish events for your theater, live venue, cinema, club or festival.

== Description ==
A WordPress plugin to manage and publish events for your theater, live venue, cinema, club or festival.

__Shortcodes__

Theater comes with several shortcodes and widgets to show off your events. See the [documentation](https://github.com/slimndap/wp-theatre/wiki/Shortcodes) for an overview.

__Import events from your existing ticketing solution__

* [ActiveTickets](https://wp.theater/downloads/activetickets-for-wordpress/?utm_source=wordpress.org&utm_medium=web&utm_campaign=readme.txt&utm_content=description)
* [Seatgeek Entreprise/SRO4](https://wp.theater/downloads/sro4-for-wordpress/?utm_source=wordpress.org&utm_medium=web&utm_campaign=readme.txt&utm_content=description)
* [AudienceView Professional](https://jeero.ooo/import-audienceview-into-theater-for-wordpress/)
* [Billeto](https://jeero.ooo/import-billeto-into-theater-for-wordpress/)
* [Brown Paper Tickets](https://jeero.ooo/import-brown-paper-tickets-into-theater-for-wordpress/)
* [Ovatic](https://wp.theater/downloads/trs-for-wordpress/)
* [OvationTix](https://jeero.ooo/import-ovationtix-into-theater-for-wordpress/)
* [Place2Book](https://jeero.ooo/import-place2book-into-theater-for-wordpress/)
* [Reservix](https://jeero.ooo/import-reservix-into-theater-for-wordpress/)
* [RTS](https://jeero.ooo/import-rts-into-theater-for-wordpress/)
* [Stager](https://jeero.ooo/import-stager-into-theater-for-wordpress/)
* [TicketingCiné](https://jeero.ooo/publish-ticketingcine-movies-on-wordpress/)
* [ThunderTix](https://jeero.ooo/publish-thundertix-movies-on-wordpress/)
* [Ticketlab](https://jeero.ooo/publish-ticketlab-events-on-wordpress/)
* [Ticketmaster](https://jeero.ooo/publish-ticketmaster-events-on-wordpress/)
* [Ticketmatic](https://jeero.ooo/import-ticketmatic-into-theater-for-wordpress/)
* [Ticketportal](https://jeero.ooo/import-ticketportal_cz-into-theater-for-wordpress/)
* [Ticketsource](https://jeero.ooo/import-ticketsource-into-theater-for-wordpress/)
* [Ticketweb](https://jeero.ooo/import-ticketweb-into-theater-for-wordpress/)
* [Timepad.ru / Главная](https://jeero.ooo/import-timepad-ru-into-theater-for-wordpress/)
* [Veezi](https://jeero.ooo/import-veezi-into-theater-for-wordpress/)

__Extensions__

* [Event Duplicator](https://wp.theater/downloads/event-duplicator-for-theater/?utm_source=wordpress.org&utm_medium=web&utm_campaign=readme.txt&utm_content=description) – This __free__ extension adds a new action to the event editor that instantly duplicates the event. Very helpful if your need to enter a lot of events at once.
* [Events Feed](https://wp.theater/downloads/events-feed/?utm_source=wordpress.org&utm_medium=web&utm_campaign=readme.txt&utm_content=description) - Automatically show your events in your email newsletter. Works perfectly with Mailchimp and other email marketing solutions.
* [Events Slider](https://wp.theater/downloads/events-slider-theater/?utm_source=wordpress.org&utm_medium=web&utm_campaign=readme.txt&utm_content=description) – Show your events in a touch enabled and responsive slider.
* [Timetable](https://wp.theater/downloads/timetable-for-theater/?utm_source=wordpress.org&utm_medium=web&utm_campaign=readme.txt&utm_content=description) – Show your event showtimes in a clear table layout. Perfect for cinemas and festivals.
* [Kijkwijzer](https://wp.theater/downloads/kijkwijzer-for-theater/?utm_source=wordpress.org&utm_medium=web&utm_campaign=readme.txt&utm_content=description) – Add Kijkwijzer icons to your events.
* [MPAA](https://wp.theater/downloads/mpaa-for-theater/?utm_source=wordpress.org&utm_medium=web&utm_campaign=readme.txt&utm_content=description) – Add Motion Picture Association of America (MPAA) film rating labels to your movies.
* [BBFC](https://wp.theater/downloads/bbfc-for-theater/?utm_source=wordpress.org&utm_medium=web&utm_campaign=readme.txt&utm_content=description) – Add British Board of Film Classification (BBFC) icons to your movies.

__Missing features?__

Submit a request on the [forum](http://wordpress.org/support/plugin/theatre).

__Extending Theater for WordPress__

Easy! Write your own plugins that extend Theater for WordPress. Check out my [example](https://github.com/slimndap/wp-theatre-example-extension) plugin on GitHub.

__Contributors welcome__

* Submit a [pull request on GitHub](https://github.com/slimndap/wp-theatre)

== Installation ==

This section describes how to install the plugin and get it working.

__Installation__

1. Go to _Plugins_ → _Add new_.
1. Search for 'Theater'.
1. Look for the _Theater for WordPress_ plugin and click on _Install now_.
1. Wait for the next screen to load and click on _Activate Plugin_.

__Add events__

Theater for WordPress uses _productions_ to group your _events_. Each production can have one or more events.

Add your first event:

1. Go to _Theater_ → _Events_ → _Add new_.
1. Enter a title and description for your events.
1. Scroll down and click on _Add a new date_.
1. Enter a start time that is in the future.
1. Enter the other details for your date.
1. Click on _Save date_.
1. Add a featured image (if your theme supports it).
1. Click on _Publish_.

__Show your events__

You can show your upcoming events on a page.

1. Go to _Pages_ → _Add new_.
1. Give your page a title (eg. 'Upcoming events').
1. Click on _Publish_.
1. Go to _Theater_ → _Settings_ → _Display_.
1. Set _Page to show upcoming events on_ to the page that you just created.
1. Set _Position on page_ to _show above content_.
1. Click on _Save Changes_.
1. Go to _Theater_ → _Settings_ → _Style_.
1. Check _Enable built-in Theater stylesheet_.
1. Click on _Save Changes_.

The page that you created now shows your upcoming events.


== Screenshots ==

1. Manage events in the WordPress admin.
2. The event editor.
3. Select how your events appear on your website.
4. Your upcoming events listed on your website.
5. Event details.

== Frequently Asked Questions ==

__All event listings look really weird!__

Make sure that you checked the 'Enable built-in Theater stylesheet'-option in the Theater plugin settings.

__I don't see the Theater Calendar widget__

Make sure that you select a page to show your event listings on in the Theater plugin settings.

__I really need feature X. Can you add it?__

If you are missing a feature that you really need for your website you can:

1. submit a feature request on the [forum](http://wordpress.org/support/plugin/theatre) or
1. add it yourself and submit a pull request on [GitHub](https://github.com/slimndap/wp-theatre) or
1. [hire me](mailto:jeroen@slimndap.com).

The new feature may be added directly to the Theater plugin or as an extension so that others may benefit from this as well.

== Changelog ==

= 0.18 =

Release Date: September 1, 2020

* Enhancements
    * Adds Gutenberg/Block Editor support to events and a new 'Import Events' page.
* Bugfix
    * Fixes a [PHP warning](https://github.com/slimndap/wp-theatre/issues/279) (0.18.2).
    * Fixes an XSS vulnerability (0.18.4). 
    * Fixes a PHP error when manually inserting an Event through wp_insert_post() (0.18.5).
    * Fixes a PHP warning that was introduced in PHP 8.2 (0.18.6).
* Deprecations
	* Removed the Cart widget because nobody was using it (0.18.2).

= 0.17 =

Release Date: August 17, 2020

Introducing [Jeero](https://jeero.ooo/) as a new way to import events from popular ticketing solutions.

= 0.16 =

Release Date: July 25, 2018

* Enhancements
    * Added date and category filter to the events admin screen.
    * Added a custom excerpt to embedded events (using oEmbed).
    * Made it possible to paginate events by tag. See the updated [docs](https://github.com/slimndap/wp-theatre/wiki/Shortcodes).  
    * Made it possible to group events by tag. See the updated [docs](https://github.com/slimndap/wp-theatre/wiki/Shortcodes). 
* Bugfix
    * Fixed a performance issue if your site uses a lot of transients (0.16.1).
	* Fixed a timezone [issue](https://github.com/slimndap/wp-theatre/issues/296) with groupby/paginateby inside listings (0.16.1).
	* Fixed a problem with jQuery in WordPress 5.5 (0.16.2).
	* Fixed a [problem](https://github.com/slimndap/wp-theatre/issues/291) with the tickets url inside an iframe on subfolder based multisite installs (0.16.2).
	* Fixed another problem with jQuery in WordPress 5.5 (0.16.3). Now uses flatpickr for a datepicker.

= 0.15 =

Release Date: March 22nd, 2016

This release focusses on a more streamlined experience when managing your events. Let me know what you think and if you are missing anything in the [forum](https://wordpress.org/support/plugin/theatre).

* Enhancements
    * Renamed 'productions' to 'events'.
    * Simplified the events admin screen.
    * Added a new `{{prices}}` placeholder for events (0.15.3).
    * Events can now be filtered by tags (0.15.5).
	* Activated events archive pages (0.15.10).
	* You can now set until what time events should fall on the previous days using the `theater/helpers/time/next_day_start_time_offset` filter (0.15.11).
	* You can now create event calendars with custom filters (0.15.16).
	* Added the 'end_after' filter to production lists.
	* You can now add extra filter controls to the events admin screen using the `restrict_manage_productions` and `manage_productions_extra_tablenav` filters (0.15.17).
	* Added the `wpt/importer/get/value` filter to alter the default behaviour of an importer (0.15.20).
	* The calendar widget now jumps to the active month if you show the widget on you events page (0.15.23).
	* The use of transients for event lists and calendar can now be switched off using the `theater/transient/active` filter (0.15.24). Thank you [joost de keijzer](https://dekeijzer.org/)!
    * Added a new `{{tags}}` placeholder for events (0.15.27). See the updated [docs](https://github.com/slimndap/wp-theatre/wiki/Shortcodes). Thank you [Raymond van Melzen](https://www.vanmelzen.com/)!
    * Internal changes to further improve performance of importers (0.15.27).
    * Added CSS classes to the event editor to make it easier for developer to customise (0.15.29). Thank you [joost de keijzer](https://dekeijzer.org/)!
    * Performance improvements when ordering events on websites with _a lot_ of events (0.15.30).

* Bugfix
    * The translation setting for the header above events on the productions page was also being used in other places (eg. the admin menu) (0.15.2). Thank you [Bob Morris](https://wordpress.org/support/profile/bob-morris)!
	* Seasons are now hidden from search results (0.15.3).
	* The post slug was not working for events when using bulk edit in the events admin screen (0.15.5).
	* Updates for extension plugins were not working anymore (0.15.6).
	* Events where not always showing the correct end date.
	* Search results no longer get lost when navigating on the Events page in the WordPress admin (0.15.9).
	* Fixed an issue with the 'end' filter for events (0.15.10).
	* Fixed the sort order of events on the admin screen after you changed the status of an event (0.15.13). Thank you [Menno Luitjes](https://www.linkedin.com/in/mennoluitjes)!
	* Fixed a problem with the changelog of extensions if you're running multiple extensions (0.15.14).
	* Fixed a problem with the event editor in WordPress 4.7 (0.15.15).
	* Fixed the day-filter in event lists (0.15.16).
	* Fixed an encoding problem in the upcoming event feeds (0.15.16).
	* Fixed a sorting issue on archive/search pages with mixed post types (0.15.16).
	* Fixed a timezone problem when using something like  `starttime|date('Y-m-d H:i:s')` inside a shortcode (0.15.18).
	* Fixed performance issues with some websites that use full page caching plugins and services (0.15.22).
	* Fixed several performance issues of during imports (0.15.24).
	* Fixed a conflict with WP-CLI. (0.15.24).
	* Fixed an [issue](https://github.com/slimndap/wp-theatre/pull/242) with the fallback of custom field values of events. Thank you [joost de keijzer](https://dekeijzer.org/)!
	* Fixed an [issue](https://github.com/slimndap/wp-theatre/issues/269) where sometimes events are shown in the wrong order (0.15.30).
	* Fixed another [issue](https://github.com/slimndap/wp-theatre/issues/270) where sometimes events are shown in the wrong order (0.15.31).
	* Fixed an [issue](https://github.com/slimndap/wp-theatre/issues/272) with the keyword filter for events (0.15.32).
	* Fixed an [issue](https://github.com/slimndap/wp-theatre/issues/237) with event lists on a page with a parent page (0.15.33).
	* Fixed an [issue](https://github.com/slimndap/wp-theatre/issues/262) with the tickets iframe when the tickets page is a page with a parent page (0.15.33).
	* Fixed an [issue](https://github.com/slimndap/wp-theatre/issues/274) where events are gone after you deactivate en reactivate the plugin.
	
	
	
* Deprecations
	* Deprecated the custom CSS settings in favour of the custom CSS setting that came with WordPress 4.7 (0.15.16).
	
    
= 0.14 =

Release Date: February 2nd, 2016

* Enhancements
    * The plugin is now ready for [language packs hosted on WordPress.org](https://make.wordpress.org/plugins/2015/09/01/plugin-translations-on-wordpress-org/). This makes it much easier for you to contribute a translation of the plugin in your native language. Add you translation [here](https://translate.wordpress.org/projects/wp-plugins/theatre).
    * The `[wpt_events]` shortcode now accepts a `production` parameter to limit the a events list to one or more productions (0.14.4). See the updated [documentation](https://github.com/slimndap/wp-theatre/wiki/Shortcodes#event-listing) for examples.
    

* Bugfixes
    * Fixed some layout glitches on the Theater extensions page (0.14.1).
    * Listings were not working correctly if you combined the `start` and `post__not_in` params (0.14.2).
    * Event imports didn't always clean up properly (0.14.2).
    * Fixed a problem when saving a production with multiple events (0.14.3). Thank you [tomaszkoziara](https://github.com/tomaszkoziara)!
    * Fixed several PHP warnings when no listing page is set in the Theater settings (0.14.3).
    
= 0.13 =

Release Date: September 3rd, 2015

* Enhancements
    * Production listings can now be filtered by start and end dates. See the updated [documentation](https://github.com/slimndap/wp-theatre/wiki/Shortcodes#production-listing).
    * Production listings can now be grouped and paginated by day, month or year.
    * Stripped all unnecessary elements off the event edit screen.
    * Made it possible to alter the behaviour of the tickets lightbox with a filter.
    * You can now browse extensions inside the WordPress admin.

See the [release post](https://wp.theater/theater-for-wordpress-0-13-released/?utm_source=wordpress.org&utm_medium=web&utm_content=changelog&utm_campaign=readme.txt) for examples.

* Bugfixes
	* Fixed a problem in production listings with events that start before 1-1-1970.
	* Visibility of ticket buttons didn't account for timezones.
	* Pagination for listings wasn't working when the listing page was the same as the front page.
	* Weekdays were showing up as question marks when using a multibyte language (eg. Russian).

* Requirements
	* The plugin is no longer tested on WordPress versions prior to 4.0 (0.13.3).

= 0.12 =

Release Date: July 3rd, 2015

* Enhancements
    * You can adjust the slug for production detail pages in the permalink settings. Your URLs can now look like `http://example.com/show/billy-elliot` or `http://example.com/concert/kurt-vile`.
    * New template placeholders for events: `{{starttime}}`, `{{startdate}}`, `{{endtime}}` and `{{enddate}}`. Thanks [jbrandligt](https://github.com/jbrandligt)!
    * You can choose the size for your thumbnail placeholder: `{{thumbnail('large')}}`.
    * The URLs for your ticket pages look nicer, if you use the iframe option: `http://example.com/tickets/billy-elliot/123`.
    * Added new filters to manipulate the output of the Theater Production widget and the Theater Events widget.
    * Updated the German translation. Thanks [henk23](https://github.com/henk23)!
    * Added error messages to the import status. Thanks [Menno](https://www.linkedin.com/in/mennoluitjes)!
	* Made it easier for extensions to add functionality to the event editor (0.12.4).

* Clean up
    * Productions no longer have an archive page on `http://example.com/productions/`. 
    * Removed the Theater dashboard widget since it was kind off useless and slowing the admin interface down.

* Bugfixes
	* Some past events were showing a false tickets status.
	* It was impossible to clear a value for an event field.
	* Events were polluting the 'link to existing content' section on the 'Insert/edit link' dialog (0.12.3).
	* Fixed a timezone problem with the `{{datetime}}` template tag (0.12.6).
	* Fixed a lightbox problem with themes that don't properly support screen-reader texts (0.12.6).
	* Fixed a problem with invalid event end dates (0.12.7).
	* The tickets status was not being saved when creating a new event (0.12.7).
	
= 0.11 =

Release Date: May 30th, 2015

* Enhancements
    * A brand new event editor. See the [release notes](http://www.slimndap.com/theater-for-wordpress-0-11-a-new-event-editor/) for all the info.
    * Support for `post__in` and `post__not_in` in the `[wpt_events]` shortcode. See the [documentation](https://github.com/slimndap/wp-theatre/wiki/Shortcodes) for examples. Thanks [jbrandligt](https://wordpress.org/support/profile/jbrandligt)!
    * Support for custom filters in event listings. See [this post](http://www.slimndap.com/add-venue-and-city-filters-to-event-listings/) for an example.


== Upgrade Notice ==

= 0.18.5 =
Fixes a PHP error when manually inserting an Event through wp_insert_post().

= 0.18.4 =
Fixes an XSS vulnerability.

= 0.18.2 =
Fixes a PHP warning.

= 0.16.5 =
Fixes some issues with WordPress 5.5.

= 0.16 =
New date and category filters on the events admin screen. New grouping by tag options for the front end.

= 0.15.33 =
Maintenance release fixing several long-standing minor issues.

= 0.15.32 =
Fixed an issue with the keyword filter for events.

= 0.15.31 =
Fixed another issue where sometimes events are shown in the wrong order.

= 0.15.30 =
Fixed an issue where sometimes events are shown in the wrong order.

= 0.15.29 =
Made it easier for developers to customize the event editor.

= 0.15.28 =
Fixes a problem with the Categories widget that was introduced in a previous update.

= 0.15.27 =
Added a new `{{tags}}` placeholder for events.

= 0.15.26 = 
Fixes a problem with the Production events widget that was introduced in a previous update.

= 0.15.25 = 
Fixes a problem with the Calendar widget that was introduced in the previous update.

= 0.15.24 = 
Performance improvements, especially noticeable during imports.

= 0.15.23 =
The calendar widget now jumps to the active month if you show the widget on you events page.

= 0.15.22 =
Fixes performance issues with some websites that use full page caching plugins and services.

= 0.15.21 =
Tiny internal improvement to the events admin screen.

= 0.15.20 =
Added a filter to alter the default behaviour of an importer.

= 0.15.17 =
Added two WordPress filters to add extra filter controls to the events admin screen.

= 0.15.15 =
Fixes several compatibility issues with WordPress 4.7.

= 0.15.14 =
Fixes a problem with the changelog of extensions if you're running multiple extensions.

= 0.15.13 =
Fixes a problem with the sort order of events on the admin screen.

= 0.15.12 =
Fixes a problem that was introduced in 0.15.10 where past events were not visible in the admin.

= 0.15.11 =
Small bugfixes and CSS tweaks.

= 0.15.10 =
Fixes the ordering of events on archive pages. Fixes a problem with the 'end' filter for events.

= 0.15.9 =
Fixes a problem where search results got lost when navigating on the Theater Events page in the WordPress admin.

= 0.15.8 =
Fixes in the HTML output of the Calendar widget and improves the sanitization of ticket urls.

= 0.15.7 =
Fixes two issues with displaying event dates.

= 0.15.6 =
Fixes a problem with updates for Theater for WordPress extension plugins.

= 0.15.5 =
Adds support for a 'tag' filter in event lists. Fixes a problem when bulk publishing events.

= 0.15.4 =
Small bugfixes and improvements to the events admin screen.

= 0.15.3 =
Added a new `{{prices}}` placeholder for events.

= 0.15.2 =
Adds context information to fields in listings, useful for styling and context-aware hooks.

= 0.15.1 =
Fixes a problem with the 'date' filter in template placeholders.

= 0.15 =
This release focusses on a more streamlined experience when managing your events.

= 0.14.7 = 
Adds context information to listings, useful for styling and context-aware hooks.

= 0.14.6 =
Adds two new filters to manipulate the appearance of events in lists.

= 0.14.5 =
Internal improvements that can be used by importer extensions. No real need to update if you are not importing events from an external ticketing solution.

= 0.14.4 =
The [wpt_events] shortcode now accepts a 'production' parameter to limit the a events list to one or more productions.
